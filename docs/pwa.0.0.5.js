!function(e){function t(t){for(var r,i,l=t[0],u=t[1],c=t[2],d=0,f=[];d<l.length;d++)i=l[d],a[i]&&f.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var u=n[l];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var s=u;o.push([37,2]),n()}({37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),l=n(41),u=n(40),c=n(42),s=n(39),d=n(2);let f=Number(localStorage.getItem("entry_id"))||0;function p(){const e=String(++f);return localStorage.setItem("entry_id",e),e}var m=n(18),h=function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}u((r=r.apply(e,t||[])).next())})};const y=m.createInstance({name:"entry"});const v="ADD",g="REMOVE",w="SET_ENTRIES";let E=n(8).b(function(e=[],t){switch(t.type){case v:if(!t.entry)throw new Error("tries to add an empty entry");return(e=[...e]).push(t.entry),e.sort((e,t)=>{const n=new Date(e.date);return new Date(t.date).getTime()-n.getTime()}),e;case g:if(!t.entry)throw new Error("tries to remove an empty entry");return t.entry,e.filter(e=>e.id!==t.entry.id);case w:if(!t.entries)throw new Error("tries to set the state to null|undefined");return t.entries}return e});var b=function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}u((r=r.apply(e,t||[])).next())})};class S extends a.a.Component{constructor(e){super(e),this.input_entry={date:(new Date).toISOString(),id:"",note:"",value:0,category:"default"},this.state={returnToHome:!1},this.handleSubmit=this.handleSubmit.bind(this)}render(){return this.state.returnToHome?a.a.createElement(c.a,{to:"/"}):a.a.createElement(d.Page,{renderToolbar:this.renderToolbar},a.a.createElement(d.Card,null,a.a.createElement(d.Input,{style:{width:"100%"},placeholder:"Kategorie:",onChange:e=>this.input_entry.category=e.target.value})),a.a.createElement(d.Card,null,a.a.createElement(d.Input,{style:{width:"100%"},type:"date",placeholder:"Datum:",onChange:e=>this.input_entry.date=new Date(e.target.value).toISOString()})),a.a.createElement(d.Card,null,a.a.createElement(d.Input,{style:{width:"100%"},type:"number",placeholder:"Wert:",onChange:e=>this.input_entry.value=Number(e.target.value)})),a.a.createElement(d.Card,null,a.a.createElement(d.Button,{onClick:this.handleSubmit},"Hinzufügen")))}renderToolbar(){let e=Object(s.a)(({history:e})=>a.a.createElement(d.BackButton,{onClick:()=>e.push("/")}));return a.a.createElement(d.Toolbar,null,a.a.createElement("div",{className:"left"},a.a.createElement(e,null)),a.a.createElement("div",{className:"center"},"Eintrag hinzufügen"))}handleSubmit(){return b(this,void 0,void 0,function*(){const e=Object.assign({},this.input_entry,{id:p()});yield function(e){return h(this,void 0,void 0,function*(){return yield y.setItem(e.id,e),e})}(e),E.dispatch(function(e){return{type:v,entry:e}}(e)),this.setState({returnToHome:!0})})}}n(33),n(34);var x=n(10);class C extends a.a.Component{constructor(e){super(e),this.state={total:0}}render(){let e=[];return a.a.createElement(d.Page,null,a.a.createElement(d.Card,null,function(e){let t=0;for(const n of e)t+=n.value;return t}(this.props.entries).toFixed(2)," €"),a.a.createElement(d.List,{dataSource:this.props.entries,renderRow:t=>(e.indexOf(new Date(t.date).toDateString()),a.a.createElement(d.ListItem,{key:t.id},e.indexOf(new Date(t.date).toDateString())<0&&(()=>(e.push(new Date(t.date).toDateString()),console.log(e),!0))()&&a.a.createElement(d.Row,null,a.a.createElement(d.Col,{style:{backgroundColor:"blue",color:"white"}},new Date(t.date).toDateString())),a.a.createElement(d.Row,null,a.a.createElement(d.Col,null,t.category),a.a.createElement(d.Col,{width:"100px"},t.value,"€"),a.a.createElement(d.Col,{width:"40px"},a.a.createElement(d.Button,{onClick:()=>{!function(e){h(this,void 0,void 0,function*(){return yield y.removeItem(e.id),e})}(t),E.dispatch(function(e){return{type:g,entry:e}}(t))}},a.a.createElement(d.Icon,{icon:"md-delete"}))))))}),a.a.createElement(C.Fab,null))}}C.Fab=Object(s.a)(({history:e})=>a.a.createElement(d.Fab,{style:{position:"fixed",bottom:"10px",right:"10px"},onClick:()=>e.push("/add")},a.a.createElement(d.Icon,{icon:{default:"fa-plus"},size:{default:32}})));const O=Object(x.b)(function(e){return{entries:e}},null)(C);var D=function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}u((r=r.apply(e,t||[])).next())})};i.a.render(a.a.createElement(function(){return a.a.createElement(x.a,{store:E},a.a.createElement(l.a,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(u.a,{exact:!0,path:"/",component:O}),a.a.createElement(u.a,{exact:!0,path:"/add",component:S}))))},null),document.getElementById("app")),(()=>D(void 0,void 0,void 0,function*(){let e=yield function(){return h(this,void 0,void 0,function*(){let e=[];return yield y.iterate(t=>{e.push(t)}),e.sort((e,t)=>{const n=new Date(e.date);return new Date(t.date).getTime()-n.getTime()}),e})}();E.dispatch(function(e){return{type:w,entries:e}}(e))}))(),"serviceWorker"in window.navigator&&navigator.serviceWorker.register("sw.js")}});
//# sourceMappingURL=pwa.0.0.5.js.map